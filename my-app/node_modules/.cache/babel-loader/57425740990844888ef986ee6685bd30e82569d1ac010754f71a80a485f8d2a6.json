{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useCart}from'../CartContext';// Adjust the path as per your project structure\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{const[products,setProducts]=useState([]);// Initialize as an empty array\nconst{addToCart}=useCart();// Destructure addToCart from useCart\nuseEffect(()=>{const fetchProducts=async()=>{try{const response=await fetch('http://127.0.0.1:5000/api/v1/products');const data=await response.json();setProducts(data.products||[]);// Ensure products is always an array\n}catch(error){console.error('Error fetching products:',error);setProducts([]);// Ensure products is an empty array in case of error\n}};fetchProducts();},[]);const handleAddToCart=product=>{addToCart(product);// Add product to cart\nalert(\"Product added to cart!\");// Show plain alert message\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"home\",children:[/*#__PURE__*/_jsx(\"h2\",{children:/*#__PURE__*/_jsx(\"marquee\",{style:{backgroundColor:'#f0f0f0',padding:'10px'},children:\"Welcome to our store, dive into the world of our beautiful pieces\"})}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'space-between',flexWrap:'wrap'},children:products.length>0?products.map(product=>/*#__PURE__*/_jsxs(\"div\",{style:{border:'1px solid rgb(214, 154, 91)',width:'30%',marginRight:'0.5rem',marginBottom:'0.5rem',borderRadius:'0.5rem',marginTop:'0.5rem',textAlign:'center',display:'flex',flexDirection:'column',padding:'1rem'},children:[/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:product.name,style:{width:'calc(100% - 20px)',height:'auto',borderRadius:'0.5rem',marginBottom:'1rem'}}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',border:'1px solid #ccc',borderTop:'none',borderRadius:'0 0 0.5rem 0.5rem',backgroundColor:'rgb(205, 152, 102)',color:'white',display:'flex',flexDirection:'column',justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(\"h2\",{children:product.name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Price: \",Math.round(product.price)]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Stock: \",product.stock]}),/*#__PURE__*/_jsx(\"button\",{style:{width:'100%',padding:'0.75rem',backgroundColor:'#ca8d5b',color:'white',border:'none',borderRadius:'0.25rem',cursor:'pointer'},onClick:()=>handleAddToCart(product),children:\"Add to Cart\"})]})]},product.id)):/*#__PURE__*/_jsx(\"p\",{children:\"No products available.\"})})]});};export default Home;","map":{"version":3,"names":["React","useState","useEffect","useCart","jsx","_jsx","jsxs","_jsxs","Home","products","setProducts","addToCart","fetchProducts","response","fetch","data","json","error","console","handleAddToCart","product","alert","className","children","style","backgroundColor","padding","display","justifyContent","flexWrap","length","map","border","width","marginRight","marginBottom","borderRadius","marginTop","textAlign","flexDirection","src","image","alt","name","height","borderTop","color","Math","round","price","stock","cursor","onClick","id"],"sources":["C:/Users/ANITAH/Desktop/my-app/src/Component/Pages/Products.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useCart } from '../CartContext'; // Adjust the path as per your project structure\r\n\r\nconst Home = () => {\r\n  const [products, setProducts] = useState([]); // Initialize as an empty array\r\n  const { addToCart } = useCart(); // Destructure addToCart from useCart\r\n\r\n  useEffect(() => {\r\n    const fetchProducts = async () => {\r\n      try {\r\n        const response = await fetch('http://127.0.0.1:5000/api/v1/products');\r\n        const data = await response.json();\r\n        setProducts(data.products || []); // Ensure products is always an array\r\n      } catch (error) {\r\n        console.error('Error fetching products:', error);\r\n        setProducts([]); // Ensure products is an empty array in case of error\r\n      }\r\n    };\r\n\r\n    fetchProducts();\r\n  }, []);\r\n\r\n  const handleAddToCart = (product) => {\r\n    addToCart(product); // Add product to cart\r\n    alert(\"Product added to cart!\"); // Show plain alert message\r\n  };\r\n\r\n  return (\r\n    <div className=\"home\">\r\n      <h2>\r\n        <marquee style={{ backgroundColor: '#f0f0f0', padding: '10px' }}>\r\n          Welcome to our store, dive into the world of our beautiful pieces\r\n        </marquee>\r\n      </h2>\r\n\r\n      <div style={{ display: 'flex', justifyContent: 'space-between', flexWrap: 'wrap' }}>\r\n        {products.length > 0 ? (\r\n          products.map((product) => (\r\n            <div\r\n              key={product.id}\r\n              style={{\r\n                border: '1px solid rgb(214, 154, 91)',\r\n                width: '30%',\r\n                marginRight: '0.5rem',\r\n                marginBottom: '0.5rem',\r\n                borderRadius: '0.5rem',\r\n                marginTop: '0.5rem',\r\n                textAlign: 'center',\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                padding: '1rem',\r\n              }}\r\n            >\r\n              <img\r\n                src={product.image}\r\n                alt={product.name}\r\n                style={{ width: 'calc(100% - 20px)', height: 'auto', borderRadius: '0.5rem', marginBottom: '1rem' }}\r\n              />\r\n              <div\r\n                style={{\r\n                  padding: '1rem',\r\n                  border: '1px solid #ccc',\r\n                  borderTop: 'none',\r\n                  borderRadius: '0 0 0.5rem 0.5rem',\r\n                  backgroundColor: 'rgb(205, 152, 102)',\r\n                  color: 'white',\r\n                  display: 'flex',\r\n                  flexDirection: 'column',\r\n                  justifyContent: 'space-between',\r\n                }}\r\n              >\r\n                <h2>{product.name}</h2>\r\n                <p>Price: {Math.round(product.price)}</p>\r\n                <p>Stock: {product.stock}</p>\r\n                <button\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: '0.75rem',\r\n                    backgroundColor: '#ca8d5b',\r\n                    color: 'white',\r\n                    border: 'none',\r\n                    borderRadius: '0.25rem',\r\n                    cursor: 'pointer',\r\n                  }}\r\n                  onClick={() => handleAddToCart(product)}\r\n                >\r\n                  Add to Cart\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <p>No products available.</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}